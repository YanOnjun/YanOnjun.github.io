<!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1"><meta name="format-detection" content="telephone=no"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="black"><link rel="icon" href="/images/icons/favicon-16x16.png?v=2.8.0" type="image/png" sizes="16x16"><link rel="icon" href="/images/icons/favicon-32x32.png?v=2.8.0" type="image/png" sizes="32x32"><meta name="description" content="æ¯å¤©éƒ½å¥½å›°ğŸ˜‹">
<meta property="og:type" content="website">
<meta property="og:title" content="Spring&#39;s Blog">
<meta property="og:url" content="https://yanonjun.github.io.git/index.html">
<meta property="og:site_name" content="Spring&#39;s Blog">
<meta property="og:description" content="æ¯å¤©éƒ½å¥½å›°ğŸ˜‹">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="Rise Spring">
<meta name="twitter:card" content="summary"><title>Spring's Blog</title><link ref="canonical" href="https://yanonjun.github.io.git/index.html"><link rel="dns-prefetch" href="https://cdn.jsdelivr.net"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.12.1/css/all.min.css" type="text/css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.css" type="text/css"><link rel="stylesheet" href="/css/index.css?v=2.8.0"><link rel="stylesheet" href="css/custom.css"><script src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js" data-ad-client="ca-pub-3428392839267263" async=""></script><script>var Stun = window.Stun || {};
var CONFIG = {
  root: '/',
  algolia: undefined,
  assistSearch: undefined,
  fontIcon: {"prompt":{"success":"fas fa-check-circle","info":"fas fa-arrow-circle-right","warning":"fas fa-exclamation-circle","error":"fas fa-times-circle"},"copyBtn":"fas fa-copy"},
  sidebar: {"offsetTop":"20px","tocMaxDepth":6},
  header: undefined,
  postWidget: {"endText":true},
  nightMode: {"enable":true},
  back2top: {"enable":true},
  codeblock: {"style":"carbon","highlight":"light","wordWrap":true},
  reward: false,
  fancybox: true,
  zoomImage: {"gapAside":"20px"},
  galleryWaterfall: undefined,
  lazyload: true,
  pjax: undefined,
  externalLink: {"icon":{"enable":true,"name":"fas fa-external-link-alt"}},
  shortcuts: undefined,
  prompt: {"copyButton":"å¤åˆ¶","copySuccess":"å¤åˆ¶æˆåŠŸ","copyError":"å¤åˆ¶å¤±è´¥"},
  sourcePath: {"js":"js","css":"css","images":"images"},
};

window.CONFIG = CONFIG;</script><meta name="generator" content="Hexo 6.3.0"></head><body><div class="container" id="container"><header class="header" id="header"><div class="header-inner header-inner--height header-inner--bgcolor"><nav class="header-nav header-nav--sticky"><div class="header-nav-inner"><div class="header-nav-menubtn"><i class="fas fa-bars"></i></div><div class="header-nav-menu"><div class="header-nav-menu-item"><a class="header-nav-menu-item__link" href="/"><span class="header-nav-menu-item__icon"><i class="fas fa-home"></i></span><span class="header-nav-menu-item__text">é¦–é¡µ</span></a></div><div class="header-nav-menu-item"><a class="header-nav-menu-item__link" href="/archives/"><span class="header-nav-menu-item__icon"><i class="fas fa-folder-open"></i></span><span class="header-nav-menu-item__text">å½’æ¡£</span></a></div><div class="header-nav-menu-item"><a class="header-nav-menu-item__link" href="/categories/"><span class="header-nav-menu-item__icon"><i class="fas fa-layer-group"></i></span><span class="header-nav-menu-item__text">åˆ†ç±»</span></a></div><div class="header-nav-menu-item"><a class="header-nav-menu-item__link" href="/tags/"><span class="header-nav-menu-item__icon"><i class="fas fa-tags"></i></span><span class="header-nav-menu-item__text">æ ‡ç­¾</span></a></div></div><div class="header-nav-search"><span class="header-nav-search__icon"><i class="fas fa-search"></i></span><span class="header-nav-search__text">æœç´¢</span></div><div class="header-nav-mode"><div class="mode"><div class="mode-track"><span class="mode-track-moon"></span><span class="mode-track-sun"></span></div><div class="mode-thumb"></div></div></div></div></nav></div></header><main class="main" id="main"><div class="main-inner"><div class="content-wrap" id="content-wrap"><div class="content content-home" id="content"><section class="postlist"><article class="postlist-item post"><header class="post-header"><h1 class="post-title"><a class="post-title__link" href="/2023/06/16/redis/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/String/">String</a></h1><div class="post-meta"><span class="post-meta-item post-meta-item--createtime"><span class="post-meta-item__icon"><i class="far fa-calendar-plus"></i></span><span class="post-meta-item__info">å‘è¡¨äº</span><span class="post-meta-item__value">2023-06-16</span></span><span class="post-meta-item post-meta-item--updatetime"><span class="post-meta-item__icon"><i class="far fa-calendar-check"></i></span><span class="post-meta-item__info">æ›´æ–°äº</span><span class="post-meta-item__value">2023-06-16</span></span></div></header><div class="post-body"><div class="post-excerpt"><p>String æ˜¯ Redis ä¸­æœ€ç®€å•æœ€å¸¸ç”¨çš„ä¸€ä¸ªæ•°æ®ç»“æ„ã€‚</p>
<p>ç”¨æ¥å­˜å‚¨ä»»ä½•ç±»å‹çš„æ•°æ®ï¼šå­—ç¬¦ä¸²ã€æ•´æ•°ã€æµ®ç‚¹æ•°ã€å›¾ç‰‡ï¼ˆbase64ç¼–ç æˆ–è€…è·¯å¾„ï¼‰ã€åºåˆ—åŒ–åçš„å¯¹è±¡ã€‚</p>
<p>Redisä¸­çš„å­—ç¬¦ä¸²ä½¿ç”¨çš„ä¸æ˜¯ c è¯­è¨€åŸç”Ÿçš„å­—ç¬¦ä¸²ï¼Œè€Œæ˜¯è‡ªå·±å®ç°çš„ä¸€ç§æ•°æ®ç»“æ„ï¼šç®€å•åŠ¨æ€å­—ç¬¦ä¸²ï¼ˆSDSï¼‰ã€‚ç›¸æ¯”äºåŸç”Ÿå­—ç¬¦ä¸²ï¼ŒSDS ä¸ä»…å¯ä»¥ä¿å­˜æ–‡æœ¬æ•°æ®ï¼Œè¿˜å¯ä»¥ä¿å­˜äºŒè¿›åˆ¶æ•°æ®ï¼Œè·å–å­—ç¬¦ä¸²é•¿åº¦çš„å¤æ‚åº¦ä¸ºO(1)ï¼Œå¹¶ä¸” API å®‰å…¨ï¼Œä¸ä¼šé€ æˆç¼“å†²åŒºæº¢å‡º</p>

        <h3 id="å¸¸ç”¨å‘½ä»¤"   >
          <a href="#å¸¸ç”¨å‘½ä»¤" class="heading-link"><i class="fas fa-link"></i></a><a href="#å¸¸ç”¨å‘½ä»¤" class="headerlink" title="å¸¸ç”¨å‘½ä»¤"></a>å¸¸ç”¨å‘½ä»¤</h3>
      <div class="table-container"><table>
<thead>
<tr>
<th>å‘½ä»¤</th>
<th>ä»‹ç»</th>
</tr>
</thead>
<tbody><tr>
<td>SET key value</td>
<td>è®¾ç½®æŒ‡å®š key çš„å€¼</td>
</tr>
<tr>
<td>SETNX key value</td>
<td>åªæœ‰åœ¨ key ä¸å­˜åœ¨æ—¶è®¾ç½® key çš„å€¼</td>
</tr>
<tr>
<td>GET key</td>
<td>è·å–æŒ‡å®š key çš„å€¼</td>
</tr>
<tr>
<td>MSET key1 value1 key2 value2 â€¦</td>
<td>è®¾ç½®ä¸€ä¸ªæˆ–å¤šä¸ªæŒ‡å®š key çš„å€¼</td>
</tr>
<tr>
<td>MGET key1 key2 â€¦</td>
<td>è·å–ä¸€ä¸ªæˆ–å¤šä¸ªæŒ‡å®š key çš„å€¼</td>
</tr>
<tr>
<td>STRLEN key</td>
<td>è¿”å› key æ‰€å‚¨å­˜çš„å­—ç¬¦ä¸²å€¼çš„é•¿åº¦</td>
</tr>
<tr>
<td>INCR key</td>
<td>å°† key ä¸­å‚¨å­˜çš„æ•°å­—å€¼å¢ä¸€</td>
</tr>
<tr>
<td>DECR key</td>
<td>å°† key ä¸­å‚¨å­˜çš„æ•°å­—å€¼å‡ä¸€</td>
</tr>
<tr>
<td>EXISTS key</td>
<td>åˆ¤æ–­æŒ‡å®š key æ˜¯å¦å­˜åœ¨</td>
</tr>
<tr>
<td>DEL keyï¼ˆé€šç”¨ï¼‰</td>
<td>åˆ é™¤æŒ‡å®šçš„ key</td>
</tr>
<tr>
<td>EXPIRE key secondsï¼ˆé€šç”¨ï¼‰</td>
<td>ç»™æŒ‡å®š key è®¾ç½®è¿‡æœŸæ—¶é—´</td>
</tr>
</tbody></table></div>

        <h3 id="åº”ç”¨åœºæ™¯"   >
          <a href="#åº”ç”¨åœºæ™¯" class="heading-link"><i class="fas fa-link"></i></a><a href="#åº”ç”¨åœºæ™¯" class="headerlink" title="åº”ç”¨åœºæ™¯"></a>åº”ç”¨åœºæ™¯</h3>
      <ol>
<li><p><strong>å­˜å‚¨å¸¸è§„æ•°æ®</strong><br> ç¼“å­˜ sessionã€tokenã€å›¾ç‰‡åœ°å€ã€åºåˆ—åŒ–åçš„å¯¹è±¡ã€‚</p>
</li>
<li><p><strong>è®¡æ•°</strong><br> ç”¨æˆ·å•ä½æ—¶é—´çš„è¯·æ±‚æ•°ï¼ˆç®€å•é™æµå¯ä»¥ç”¨åˆ°ï¼‰ã€é¡µé¢å•ä½æ—¶é—´çš„è®¿é—®æ•°ã€‚</p>
</li>
<li><p><strong>åˆ†å¸ƒå¼é”</strong><br> åˆ©ç”¨ <code>SETNX key value</code> å‘½ä»¤å¯ä»¥å®ç°ä¸€ä¸ªæœ€ç®€æ˜“çš„åˆ†å¸ƒå¼é”ã€‚</p>
</li>
</ol>
</div></div></article><article class="postlist-item post"><header class="post-header"><h1 class="post-title"><a class="post-title__link" href="/2023/06/16/redis/%E5%9F%BA%E7%A1%80/%E9%9D%9E%E5%85%B3%E7%B3%BB%E5%9E%8B%E6%95%B0%E6%8D%AE%E5%BA%93/">[ æ–‡ç« æ— æ ‡é¢˜ ]</a></h1><div class="post-meta"><span class="post-meta-item post-meta-item--createtime"><span class="post-meta-item__icon"><i class="far fa-calendar-plus"></i></span><span class="post-meta-item__info">å‘è¡¨äº</span><span class="post-meta-item__value">2023-06-16</span></span><span class="post-meta-item post-meta-item--updatetime"><span class="post-meta-item__icon"><i class="far fa-calendar-check"></i></span><span class="post-meta-item__info">æ›´æ–°äº</span><span class="post-meta-item__value">2023-06-13</span></span></div></header><div class="post-body"><div class="post-excerpt"></div></div></article><article class="postlist-item post"><header class="post-header"><h1 class="post-title"><a class="post-title__link" href="/2023/06/16/redis/%E5%9F%BA%E7%A1%80/Redis%20%E6%8C%81%E4%B9%85%E5%8C%96/">Redis æŒä¹…åŒ–</a></h1><div class="post-meta"><span class="post-meta-item post-meta-item--createtime"><span class="post-meta-item__icon"><i class="far fa-calendar-plus"></i></span><span class="post-meta-item__info">å‘è¡¨äº</span><span class="post-meta-item__value">2023-06-16</span></span><span class="post-meta-item post-meta-item--updatetime"><span class="post-meta-item__icon"><i class="far fa-calendar-check"></i></span><span class="post-meta-item__info">æ›´æ–°äº</span><span class="post-meta-item__value">2023-06-16</span></span></div></header><div class="post-body"><div class="post-excerpt"><p>ç¼“å­˜çš„æ•°æ®å­˜å‚¨åœ¨å†…å­˜ä¸­ï¼Œä½†æ˜¯å½“æœºå™¨å…³æœºã€å®•æœºä¹‹åï¼Œæ•°æ®ä¼šä¸¢å¤±ï¼ŒRedis äºæ˜¯å®ç°äº†æ•°æ®çš„æŒä¹…åŒ–ï¼Œå°†æ•°æ®å†™å…¥åˆ°ç¡¬ç›˜ä¹‹ä¸­ã€‚</p>
<p>Redis æä¾›äº†ä¸‰ç§æŒä¹…åŒ–æ–¹å¼</p>
<ul>
<li>å¿«ç…§ RDB</li>
<li>è¿½åŠ æ–‡ä»¶ AOF</li>
<li>RDB å’Œ AOF çš„æ··åˆæŒä¹…åŒ–</li>
</ul>
<p>å¿«ç…§æŒä¹…åŒ–æ˜¯ Redis é»˜è®¤é‡‡ç”¨çš„æŒä¹…åŒ–æ–¹å¼ï¼Œåœ¨ <code>redis.conf</code> æ–‡ä»¶ä¸­æœ‰é…ç½®</p>

        <h2 id="RDB"   >
          <a href="#RDB" class="heading-link"><i class="fas fa-link"></i></a><a href="#RDB" class="headerlink" title="RDB"></a>RDB</h2>
      <p>Redis é€šè¿‡ä¸¤ä¸ªå‘½ä»¤æ¥ç”Ÿæˆ RDB å¿«ç…§</p>
<ul>
<li>saveï¼šåŒæ­¥ä¿å­˜ï¼Œä¼šé˜»å¡ä¸»è¿›ç¨‹</li>
<li>bgsaveï¼šé€šè¿‡å­è¿›ç¨‹æ‰§è¡Œä¿å­˜ï¼Œä¸ä¼šé˜»å¡</li>
</ul>

        <h2 id="AOF"   >
          <a href="#AOF" class="heading-link"><i class="fas fa-link"></i></a><a href="#AOF" class="headerlink" title="AOF"></a>AOF</h2>
      </div></div></article><article class="postlist-item post"><header class="post-header"><h1 class="post-title"><a class="post-title__link" href="/2023/06/16/redis/%E5%9F%BA%E7%A1%80/Redis%20%E5%9F%BA%E7%A1%80/">Redis åŸºç¡€</a></h1><div class="post-meta"><span class="post-meta-item post-meta-item--createtime"><span class="post-meta-item__icon"><i class="far fa-calendar-plus"></i></span><span class="post-meta-item__info">å‘è¡¨äº</span><span class="post-meta-item__value">2023-06-16</span></span><span class="post-meta-item post-meta-item--updatetime"><span class="post-meta-item__icon"><i class="far fa-calendar-check"></i></span><span class="post-meta-item__info">æ›´æ–°äº</span><span class="post-meta-item__value">2023-06-16</span></span></div></header><div class="post-body"><div class="post-excerpt">
        <h2 id="Redisä»‹ç»"   >
          <a href="#Redisä»‹ç»" class="heading-link"><i class="fas fa-link"></i></a><a href="#Redisä»‹ç»" class="headerlink" title="Redisä»‹ç»"></a>Redisä»‹ç»</h2>
      <p>Redis æ˜¯åŸºäº C è¯­è¨€å¼€å‘çš„ NoSQL æ•°æ®åº“ï¼Œå­˜å‚¨ KV é”®å€¼å¯¹æ•°æ®ï¼Œæ•°æ®å­˜å‚¨åœ¨å†…å­˜ä¸­ï¼Œè¯»å†™é€Ÿåº¦éå¸¸å¿«ã€‚</p>
<p>ä¸ªäººå­¦ä¹ å¯ä»¥é€šè¿‡æœ¬æœºå®‰è£…æˆ–è€…ä½¿ç”¨ <span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://try.redis.io/" >try redis</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> è¿›è¡Œä½“éªŒ</p>
<p>æ•°æ®ç»“æ„ï¼š</p>
<ul>
<li>åŸºç¡€æ•°æ®ç»“æ„ï¼š[[String]]ã€Listã€Hashã€Setã€ZSet</li>
</ul>

        <h2 id="SQL-å’Œ-NOSQL"   >
          <a href="#SQL-å’Œ-NOSQL" class="heading-link"><i class="fas fa-link"></i></a><a href="#SQL-å’Œ-NOSQL" class="headerlink" title="SQL å’Œ NOSQL"></a>SQL å’Œ NOSQL</h2>
      <div class="table-container"><table>
<thead>
<tr>
<th align="center">SQL</th>
<th align="center">NoSQL</th>
</tr>
</thead>
<tbody><tr>
<td align="center">ç»“æ„åŒ–</td>
<td align="center">éç»“æ„åŒ–</td>
</tr>
<tr>
<td align="center">å…³è”</td>
<td align="center">éå…³è”ï¼ˆä¿¡æ¯ä¹‹é—´æ²¡æœ‰å…³è”ï¼‰</td>
</tr>
<tr>
<td align="center">SQLæŸ¥è¯¢</td>
<td align="center">éSQLï¼ˆæ²¡æœ‰è¯­æ³•ï¼‰</td>
</tr>
</tbody></table></div>

        <h4 id="å‚è€ƒé“¾æ¥"   >
          <a href="#å‚è€ƒé“¾æ¥" class="heading-link"><i class="fas fa-link"></i></a><a href="#å‚è€ƒé“¾æ¥" class="headerlink" title="å‚è€ƒé“¾æ¥"></a>å‚è€ƒé“¾æ¥</h4>
      <ul>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/63371253" >SQL ä¸ NoSQLè¿˜åœ¨å‚»å‚»åˆ†ä¸æ¸…ï¼Ÿ</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span></li>
</ul>

        <h2 id="Redis-ç‰¹ç‚¹"   >
          <a href="#Redis-ç‰¹ç‚¹" class="heading-link"><i class="fas fa-link"></i></a><a href="#Redis-ç‰¹ç‚¹" class="headerlink" title="Redis ç‰¹ç‚¹"></a>Redis ç‰¹ç‚¹</h2>
      <ul>
<li>é”®å€¼å¯¹ç±»å‹å­˜å‚¨</li>
<li>åŸºäºå†…å­˜</li>
<li>æœ‰è¿‡æœŸç­–ç•¥</li>
<li>å•çº¿ç¨‹ï¼Œå‘½ä»¤å…·æœ‰åŸå­æ€§</li>
<li>æ”¯æŒ[[Redis æŒä¹…åŒ–|æŒä¹…åŒ–]]</li>
<li>æ”¯æŒåˆ†å¸ƒå¼ï¼ˆä¸»ä»é›†ç¾¤ï¼‰</li>
</ul>

        <h2 id="Redis-å¿«çš„åŸå› "   >
          <a href="#Redis-å¿«çš„åŸå› " class="heading-link"><i class="fas fa-link"></i></a><a href="#Redis-å¿«çš„åŸå› " class="headerlink" title="Redis å¿«çš„åŸå› "></a>Redis å¿«çš„åŸå› </h2>
      <ul>
<li>Redis åŸºäºå†…å­˜ï¼ˆå†…å­˜çš„è®¿é—®é€Ÿåº¦æ˜¯ç£ç›˜çš„ä¸Šåƒå€ï¼‰<red>ã€ä¸»è¦åŸå› ã€‘</red></li>
<li>Redis åŸºäº Reactor æ¨¡å¼è®¾è®¡å®ç°çš„æ¨¡å¼ï¼Œä¸»è¦å•çº¿ç¨‹äº‹ä»¶å¾ªç¯å’Œ IO å¤šè·¯å¤ç”¨</li>
<li>Redis ä¼˜åŒ–åçš„æ•°æ®ç»“æ„ï¼Œæ€§èƒ½å¾ˆé«˜</li>
</ul>

        <h2 id="ä¸ºä»€ä¹ˆç”¨-Redis"   >
          <a href="#ä¸ºä»€ä¹ˆç”¨-Redis" class="heading-link"><i class="fas fa-link"></i></a><a href="#ä¸ºä»€ä¹ˆç”¨-Redis" class="headerlink" title="ä¸ºä»€ä¹ˆç”¨ Redis"></a>ä¸ºä»€ä¹ˆç”¨ Redis</h2>
      <ol>
<li>é«˜æ€§èƒ½<br> æ•°æ®ä»æ•°æ®åº“ä¸­è·å–çš„è¯ï¼Œæ˜¯ä»ç£ç›˜ä¸­è·å–ï¼Œè¿‡ç¨‹æ¯”è¾ƒæ…¢ï¼Œä½¿ç”¨ Redis çš„è¯ï¼Œå¯ä»¥ç›´æ¥ä»ç¼“å­˜ä¸­è·å–ï¼Œç›´æ¥æ“ä½œå†…å­˜ï¼Œé€Ÿåº¦å¿«</li>
<li>é«˜å¹¶å‘<br> Redis çš„ QPS å¾ˆå®¹æ˜“è¾¾åˆ° 10w+ ï¼ŒRedis é›†ç¾¤ä¼šæ›´é«˜ï¼Œè€Œæ•°æ®åº“çš„ QPS åœ¨ 1wå·¦å³ï¼Œæ“ä½œç¼“å­˜èƒ½æ‰¿å—çš„èƒ½åŠ›æ˜¯è¿œå¤§äºæ•°æ®åº“ã€‚ä¹Ÿå°±æé«˜äº†ç³»ç»Ÿçš„å¹¶å‘ã€‚<blockquote>
<p>QPS( Query Per Second) : æ¯ç§’æŸ¥è¯¢æ¬¡æ•°</p>
</blockquote>
</li>
</ol>

        <h2 id="Redis-åº”ç”¨"   >
          <a href="#Redis-åº”ç”¨" class="heading-link"><i class="fas fa-link"></i></a><a href="#Redis-åº”ç”¨" class="headerlink" title="Redis åº”ç”¨"></a>Redis åº”ç”¨</h2>
      <p>é™¤äº†åšç¼“å­˜ï¼ŒRedis è¿˜å¯ä»¥åšï¼š</p>
<ul>
<li>åˆ†å¸ƒå¼é”</li>
<li>é™æµ</li>
<li>æ¶ˆæ¯é˜Ÿåˆ— (ä¸æ¨è æœ€å¥½è¿˜æ˜¯ä½¿ç”¨ä¸“é—¨çš„æ¶ˆæ¯é˜Ÿåˆ—)</li>
<li>â€¦</li>
</ul>
</div></div></article><article class="postlist-item post"><header class="post-header"><h1 class="post-title"><a class="post-title__link" href="/2023/06/16/%E5%85%B6%E4%BB%96/WSL%20%E5%AE%89%E8%A3%85%E3%80%81Windows%E4%BD%BF%E7%94%A8%20Docker%E5%AE%89%E8%A3%85%E8%BF%9E%E6%8E%A5MySQL/">WSL å®‰è£…ã€Windowsä½¿ç”¨ Dockerå®‰è£…è¿æ¥MySQL</a></h1><div class="post-meta"><span class="post-meta-item post-meta-item--createtime"><span class="post-meta-item__icon"><i class="far fa-calendar-plus"></i></span><span class="post-meta-item__info">å‘è¡¨äº</span><span class="post-meta-item__value">2023-06-16</span></span><span class="post-meta-item post-meta-item--updatetime"><span class="post-meta-item__icon"><i class="far fa-calendar-check"></i></span><span class="post-meta-item__info">æ›´æ–°äº</span><span class="post-meta-item__value">2023-06-16</span></span></div></header><div class="post-body"><div class="post-excerpt"><p>å®‰è£… WSL</p>
<figure class="highlight cmd"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&gt;dism.exe /online /enable-feature /featurename:Microsoft-Windows-Subsystem-Linux /all /norestart</span><br></pre></td></tr></table></div></figure>

<figure class="highlight cmd"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&gt; Invoke-WebRequest -Uri https://wslstorestorage.blob.core.windows.<span class="built_in">net</span>/wslblob/wsl_update_x64.msi -OutFile wsl_update_x64.msi</span><br><span class="line"></span><br><span class="line">&gt; .\wsl_update_x64.msi</span><br></pre></td></tr></table></div></figure>

<p>åœ¨å¾®è½¯å•†åº—ä¸­å®‰è£… ubuntu ç³»ç»Ÿï¼Œå¯åŠ¨ä¹‹åå¯èƒ½æç¤ºé”™è¯¯<code>å‚è€ƒçš„å¯¹è±¡ç±»å‹ä¸æ”¯æŒå°è¯•çš„æ“ä½œ</code></p>

        <h3 id="è§£å†³"   >
          <a href="#è§£å†³" class="heading-link"><i class="fas fa-link"></i></a><a href="#è§£å†³" class="headerlink" title="è§£å†³"></a>è§£å†³</h3>
      <p>ä¸‹è½½ï¼š<br><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/dyingsu/nolsp" >https://github.com/dyingsu/nolsp</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span><br>ç„¶åæ‰§è¡Œ</p>
<figure class="highlight cmd"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">.\NoLsp_fix_WSL2_å‚è€ƒçš„å¯¹è±¡ç±»å‹ä¸æ”¯æŒå°è¯•çš„æ“ä½œ.exe C:\windows\system32\wsl.exe</span><br></pre></td></tr></table></div></figure>
<p>æ‰§è¡Œå®Œä¹‹åçœ‹åˆ° sucess çš„æç¤ºå°±æ˜¯æˆåŠŸ äº†</p>
<p>wsl -l -v</p>
<figure class="highlight cmd"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&gt; wsl --export Ubuntu-<span class="number">18</span>.<span class="number">04</span> E:\wsl2\Ubuntu-<span class="number">18</span>.<span class="number">04</span>.tar</span><br><span class="line">&gt; wsl --unregister Ubuntu-<span class="number">18</span>.<span class="number">04</span></span><br><span class="line">&gt; wsl --import Ubuntu-<span class="number">18</span>.<span class="number">04</span> s:\wsl2\Ubuntu-<span class="number">18</span>.<span class="number">04</span> s:\wsl2\Ubuntu-<span class="number">18</span>.<span class="number">04</span>.tar --version <span class="number">2</span> </span><br></pre></td></tr></table></div></figure>

<figure class="highlight cmd"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&gt; wsl --export docker-desktop-data s:\wsl2\docker-desktop-data.tar  </span><br><span class="line">&gt; wsl --unregister docker-desktop-data </span><br><span class="line">&gt; wsl --import docker-desktop-data s:\wsl2\docker-desktop-data s:\wsl2\docker-desktop-data.tar --version <span class="number">2</span></span><br><span class="line">&gt; wsl --export docker-desktop s:\wsl2\docker-desktop.tar   </span><br><span class="line">&gt; wsl --unregister docker-desktop</span><br><span class="line">&gt; wsl --import docker-desktop s:\wsl2\docker-desktop s:\wsl2\docker-desktop.tar --version <span class="number">2</span></span><br></pre></td></tr></table></div></figure>
<p>è¿™ä¸€æ­¥èµ°å®Œ æ‰“å¼€docker desktop å¯èƒ½ä¼šä¸€ç›´è½¬åœˆï¼Œé‡å¯ä¸€ä¸‹ç³»ç»Ÿå¯èƒ½ä¼šå¥½</p>
<p>æµ‹è¯• docker æ˜¯å¦å¯ä»¥æ­£å¸¸è¿è¡Œ</p>
<figure class="highlight cmd"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&gt; docker -v</span><br><span class="line">Docker version <span class="number">24</span>.<span class="number">0</span>.<span class="number">2</span>, build cb74dfc </span><br><span class="line">&gt; docker-compose -v</span><br><span class="line">&gt; docker pull hello-world</span><br></pre></td></tr></table></div></figure>

<p>docker è¿è¡Œ mysql å¹¶å°† mysql çš„æ•°æ®æ˜ å°„åˆ° windows ç›˜ç¬¦é‡Œ</p>
<figure class="highlight cmd"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&gt; docker run --name mysql -v /s/Development/mysql/data:/var/lib/mysql -e MYSQL_ROOT_PASSWORD=root -p <span class="number">3306</span>:<span class="number">3306</span> -d mysql:<span class="number">5</span>.<span class="number">7</span></span><br></pre></td></tr></table></div></figure>

<p>æŸ¥çœ‹dockerå®‰è£…å’Œå¯åŠ¨çš„é•œåƒ</p>
<figure class="highlight cmd"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&gt; docker images</span><br><span class="line">&gt; docker ps</span><br></pre></td></tr></table></div></figure>

<p>æ‰“å¼€ Navicat è¿æ¥ MySQLï¼Œåœ°å€å°±æ˜¯æœ¬åœ°åœ°å€</p>

        <h2 id="Redis"   >
          <a href="#Redis" class="heading-link"><i class="fas fa-link"></i></a><a href="#Redis" class="headerlink" title="Redis"></a>Redis</h2>
      <p>å®‰è£…</p>
<figure class="highlight cmd"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&gt; docker run --<span class="built_in">net</span> host -d --privileged=true -p <span class="number">6379</span>:<span class="number">6379</span> -v /s/Development/Redis:/usr/local/etc/redis -v /s/Development/Redis/log:/log --name redis redis redis-server /usr/local/etc/redis/redis.conf</span><br></pre></td></tr></table></div></figure>

<p>ä½†æ˜¯å®é™…ä¸Š redis å¹¶ä¸èƒ½è·å–åˆ°è¿™ä¸ªredis.confï¼Œä¸ºæ­¤è¯•å›¾é€šè¿‡æ–‡ä»¶æ˜ å°„ï¼Œè¿›è¡Œconfæ–‡ä»¶çš„ä½¿ç”¨</p>
<p>å…³äº redis.conf</p>
<figure class="highlight plaintext"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br></pre></td><td class="code"><pre><span class="line">bind 0.0.0.0</span><br><span class="line">protected-mode yes</span><br><span class="line">port 6379</span><br><span class="line">tcp-backlog 511</span><br><span class="line">timeout 0</span><br><span class="line">tcp-keepalive 300</span><br><span class="line">daemonize no</span><br><span class="line">pidfile /var/run/redis_6379.pid</span><br><span class="line">loglevel notice</span><br><span class="line">logfile /log/redis-server.log</span><br><span class="line">databases 16</span><br><span class="line">always-show-logo no</span><br><span class="line">set-proc-title yes</span><br><span class="line">proc-title-template &quot;&#123;title&#125; &#123;listen-addr&#125; &#123;server-mode&#125;&quot;</span><br><span class="line">stop-writes-on-bgsave-error yes</span><br><span class="line">rdbcompression yes</span><br><span class="line">rdbchecksum yes</span><br><span class="line">dbfilename dump.rdb</span><br><span class="line">rdb-del-sync-files no</span><br><span class="line"># æ•°æ®æŒ‚è½½ä½ç½®</span><br><span class="line">dir /usr/local/etc/redis</span><br><span class="line">replica-serve-stale-data yes</span><br><span class="line">replica-read-only yes</span><br><span class="line">repl-diskless-sync no</span><br><span class="line">repl-diskless-sync-delay 5</span><br><span class="line">repl-diskless-load disabled</span><br><span class="line">repl-disable-tcp-nodelay no</span><br><span class="line">replica-priority 100</span><br><span class="line">acllog-max-len 128</span><br><span class="line">lazyfree-lazy-eviction no</span><br><span class="line">lazyfree-lazy-expire no</span><br><span class="line">lazyfree-lazy-server-del no</span><br><span class="line">replica-lazy-flush no</span><br><span class="line">lazyfree-lazy-user-del no</span><br><span class="line">lazyfree-lazy-user-flush no</span><br><span class="line">oom-score-adj no</span><br><span class="line">oom-score-adj-values 0 200 800</span><br><span class="line">disable-thp yes</span><br><span class="line"># æ•°æ®æŒä¹…åŒ–</span><br><span class="line">appendonly yes</span><br><span class="line">appendfilename &quot;appendonly.aof&quot;</span><br><span class="line">appendfsync everysec</span><br><span class="line">no-appendfsync-on-rewrite no</span><br><span class="line">auto-aof-rewrite-percentage 100</span><br><span class="line">auto-aof-rewrite-min-size 64mb</span><br><span class="line">aof-load-truncated yes</span><br><span class="line">aof-use-rdb-preamble yes</span><br><span class="line">lua-time-limit 5000</span><br><span class="line">slowlog-log-slower-than 10000</span><br><span class="line">slowlog-max-len 128</span><br><span class="line">latency-monitor-threshold 0</span><br><span class="line">notify-keyspace-events &quot;&quot;</span><br><span class="line">hash-max-ziplist-entries 512</span><br><span class="line">hash-max-ziplist-value 64</span><br><span class="line">list-max-ziplist-size -2</span><br><span class="line">list-compress-depth 0</span><br><span class="line">set-max-intset-entries 512</span><br><span class="line">zset-max-ziplist-entries 128</span><br><span class="line">zset-max-ziplist-value 64</span><br><span class="line">hll-sparse-max-bytes 3000</span><br><span class="line">stream-node-max-bytes 4096</span><br><span class="line">stream-node-max-entries 100</span><br><span class="line">activerehashing yes</span><br><span class="line">client-output-buffer-limit normal 0 0 0</span><br><span class="line">client-output-buffer-limit replica 256mb 64mb 60</span><br><span class="line">client-output-buffer-limit pubsub 32mb 8mb 60</span><br><span class="line">hz 10</span><br><span class="line">dynamic-hz yes</span><br><span class="line">aof-rewrite-incremental-fsync yes</span><br><span class="line">rdb-save-incremental-fsync yes</span><br><span class="line">jemalloc-bg-thread yes</span><br></pre></td></tr></table></div></figure>

<p>å°è¯•äº†å¾ˆä¹…éƒ½æ²¡æœ‰åŠæ³•åœ¨ windows è¿æ¥åˆ° redisï¼Œæœ€ååœ¨æµè§ˆå™¨è¾“å…¥ 6379 ä¹‹åï¼Œçªç„¶å‘ç°ä»¥ä¸‹æ¶ˆæ¯</p>
<blockquote>
<p>-DENIED Redis is running in protected mode because protected mode is enabled and no password is set for the default user. In this mode connections are only accepted from the loopback interface. If you want to connect from external computers to Redis you may adopt one of the following solutions: 1) Just disable protected mode sending the command â€˜CONFIG SET protected-mode noâ€™ from the loopback interface by connecting to Redis from the same host the server is running, however MAKE SURE Redis is not publicly accessible from internet if you do so. Use CONFIG REWRITE to make this change permanent. 2) Alternatively you can just disable the protected mode by editing the Redis configuration file, and setting the protected mode option to â€˜noâ€™, and then restarting the server. 3) If you started the server manually just for testing, restart it with the â€˜â€“protected-mode noâ€™ option. 4) Setup a an authentication password for the default user. NOTE: You only need to do one of the above things in order for the server to start accepting connections from the outside.</p>
</blockquote>
<p>å› ä¸ºè¿™æ˜¯ä¸å®‰å…¨çš„ æ‰€ä»¥ä¸å…è®¸å¤–éƒ¨è®¿é—®äº†ï¼Œæ ¹æ®ç¬¬å››æ¡ è®¾ç½®ä¸€ä¸ªå¯†ç å°±å¥½ï¼Œåœ¨confæ–‡ä»¶åè¿½åŠ  requirepass password</p>
</div></div></article><article class="postlist-item post"><header class="post-header"><h1 class="post-title"><a class="post-title__link" href="/2023/05/29/%E4%B8%80%E4%BA%9B%E9%97%AE%E9%A2%98/%E9%9D%A2%E5%90%91%E8%BF%87%E7%A8%8B%E6%AF%94%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E6%80%A7%E8%83%BD%E9%AB%98%EF%BC%9F/">é¢å‘è¿‡ç¨‹æ¯”é¢å‘å¯¹è±¡æ€§èƒ½é«˜ï¼Ÿ</a></h1><div class="post-meta"><span class="post-meta-item post-meta-item--createtime"><span class="post-meta-item__icon"><i class="far fa-calendar-plus"></i></span><span class="post-meta-item__info">å‘è¡¨äº</span><span class="post-meta-item__value">2023-05-29</span></span><span class="post-meta-item post-meta-item--updatetime"><span class="post-meta-item__icon"><i class="far fa-calendar-check"></i></span><span class="post-meta-item__info">æ›´æ–°äº</span><span class="post-meta-item__value">2023-05-29</span></span></div></header><div class="post-body"><div class="post-excerpt"><p>Java æ€§èƒ½å·®çš„åŸå› æ˜¯å› ä¸º Java æ˜¯åŠç¼–è¯‘è¯­è¨€ï¼Œæœ€ç»ˆçš„æ‰§è¡Œä»£ç ä¸æ˜¯å¯ä»¥ç›´æ¥è¢« CPU æ‰§è¡Œçš„äºŒè¿›åˆ¶ç¼–ç ã€‚</p>
<p>é¢å‘è¿‡ç¨‹è¯­è¨€å¤§å¤šæ•°æ˜¯ç›´æ¥ç¼–è¯‘æˆæœºæ¢°ç åœ¨ç”µè„‘ä¸Šæ‰§è¡Œã€‚è€Œä¸”é¢å‘è¿‡ç¨‹æ€§èƒ½ä¹Ÿä¸ä¸€å®šæ¯”é¢å‘å¯¹è±¡æ€§èƒ½å¥½ã€‚</p>
<p>è®¾è®¡èŒƒå¼å’Œæ€§èƒ½æ— å…³çš„ã€‚ä¸»è¦æ˜¯ç¼–ç¨‹è¯­è¨€çš„è¿è¡Œæœºåˆ¶å†³å®šçš„ã€‚</p>
<p><strong>ç›¸å…³é“¾æ¥</strong></p>
<p><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/Snailclimb/JavaGuide/issues/431" >https://github.com/Snailclimb/JavaGuide/issues/431</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span></p>
</div></div></article><article class="postlist-item post"><header class="post-header"><h1 class="post-title"><a class="post-title__link" href="/2023/05/29/%E4%B8%80%E4%BA%9B%E9%97%AE%E9%A2%98/%E6%8E%A5%E5%8F%A3%E5%92%8C%E6%8A%BD%E8%B1%A1%E7%B1%BB%E7%9A%84%E5%8C%BA%E5%88%AB/">æ¥å£å’ŒæŠ½è±¡ç±»çš„åŒºåˆ«</a></h1><div class="post-meta"><span class="post-meta-item post-meta-item--createtime"><span class="post-meta-item__icon"><i class="far fa-calendar-plus"></i></span><span class="post-meta-item__info">å‘è¡¨äº</span><span class="post-meta-item__value">2023-05-29</span></span><span class="post-meta-item post-meta-item--updatetime"><span class="post-meta-item__icon"><i class="far fa-calendar-check"></i></span><span class="post-meta-item__info">æ›´æ–°äº</span><span class="post-meta-item__value">2023-05-29</span></span></div></header><div class="post-body"><div class="post-excerpt">
        <h2 id="ç›¸åŒç‚¹"   >
          <a href="#ç›¸åŒç‚¹" class="heading-link"><i class="fas fa-link"></i></a><a href="#ç›¸åŒç‚¹" class="headerlink" title="ç›¸åŒç‚¹"></a>ç›¸åŒç‚¹</h2>
      <ul>
<li>éƒ½ä¸èƒ½è¢«å®ä¾‹åŒ–åªèƒ½é€šè¿‡ ç»§æ‰¿&#x2F;å®ç° [[æŠ½è±¡ç±»#^bdf134]][[æ¥å£#^e92cf9]] </li>
<li>éƒ½å¯ä»¥æœ‰æŠ½è±¡æ–¹æ³•</li>
</ul>

        <h2 id="åŒºåˆ«"   >
          <a href="#åŒºåˆ«" class="heading-link"><i class="fas fa-link"></i></a><a href="#åŒºåˆ«" class="headerlink" title="åŒºåˆ«"></a>åŒºåˆ«</h2>
      <ul>
<li>æ¥å£å¤šç»§æ‰¿ï¼ŒæŠ½è±¡ç±»å•ç»§æ‰¿</li>
<li>æ¥å£çš„ç±»ã€æ–¹æ³•ã€æˆå‘˜å±æ€§éƒ½æ˜¯ public ä¿®é¥°ï¼ŒæŠ½è±¡ç±»å¯ä»¥ä½¿ç”¨å…¶ä»–çš„ä¿®é¥°ç¬¦</li>
<li>æ¥å£ä¸­ä¸èƒ½æœ‰é™æ€ä»£ç å— ï¼ˆJava 8 å¯ä»¥æœ‰é™æ€æ–¹æ³•ï¼‰</li>
</ul>
</div></div></article><article class="postlist-item post"><header class="post-header"><h1 class="post-title"><a class="post-title__link" href="/2023/05/29/%E9%9D%A2%E5%AF%B9%E5%AF%B9%E8%B1%A1/%E9%9D%A2%E5%AF%B9%E5%AF%B9%E8%B1%A1/">é¢å¯¹å¯¹è±¡</a></h1><div class="post-meta"><span class="post-meta-item post-meta-item--createtime"><span class="post-meta-item__icon"><i class="far fa-calendar-plus"></i></span><span class="post-meta-item__info">å‘è¡¨äº</span><span class="post-meta-item__value">2023-05-29</span></span><span class="post-meta-item post-meta-item--updatetime"><span class="post-meta-item__icon"><i class="far fa-calendar-check"></i></span><span class="post-meta-item__info">æ›´æ–°äº</span><span class="post-meta-item__value">2023-05-29</span></span></div></header><div class="post-body"><div class="post-excerpt">
        <h1 id="é¢å¯¹å¯¹è±¡ä¸‰å¤§ç‰¹å¾"   >
          <a href="#é¢å¯¹å¯¹è±¡ä¸‰å¤§ç‰¹å¾" class="heading-link"><i class="fas fa-link"></i></a><a href="#é¢å¯¹å¯¹è±¡ä¸‰å¤§ç‰¹å¾" class="headerlink" title="é¢å¯¹å¯¹è±¡ä¸‰å¤§ç‰¹å¾"></a>é¢å¯¹å¯¹è±¡ä¸‰å¤§ç‰¹å¾</h1>
      <p>[[å°è£…]]ã€[[ç»§æ‰¿]]ã€[[å¤šæ€]]</p>
</div></div></article><article class="postlist-item post"><header class="post-header"><h1 class="post-title"><a class="post-title__link" href="/2023/05/29/%E9%9D%A2%E5%AF%B9%E5%AF%B9%E8%B1%A1/%E9%87%8D%E8%BD%BD/">é‡è½½</a></h1><div class="post-meta"><span class="post-meta-item post-meta-item--createtime"><span class="post-meta-item__icon"><i class="far fa-calendar-plus"></i></span><span class="post-meta-item__info">å‘è¡¨äº</span><span class="post-meta-item__value">2023-05-29</span></span><span class="post-meta-item post-meta-item--updatetime"><span class="post-meta-item__icon"><i class="far fa-calendar-check"></i></span><span class="post-meta-item__info">æ›´æ–°äº</span><span class="post-meta-item__value">2023-05-29</span></span></div></header><div class="post-body"><div class="post-excerpt"><p>é‡è½½æŒ‡çš„æ˜¯åœ¨ä¸€ä¸ªç±»é‡Œé¢ï¼Œå¯¹æ–¹æ³•çš„é‡è½½ï¼Œæ–¹æ³•åå­—ç›¸åŒï¼Œå‚æ•°ä¸åŒï¼Œè¿”å›ç±»å‹å¯ä»¥ç›¸åŒå¯ä»¥ä¸åŒã€‚ä½†æ˜¯æ— æ³•ä½¿ç”¨è¿”å›ç±»å‹ä½œä¸ºé‡è½½å‡½æ•°çš„æ ‡å‡†ã€‚</p>
</div></div></article><article class="postlist-item post"><header class="post-header"><h1 class="post-title"><a class="post-title__link" href="/2023/05/29/%E9%9D%A2%E5%AF%B9%E5%AF%B9%E8%B1%A1/%E9%87%8D%E5%86%99/">é‡å†™</a></h1><div class="post-meta"><span class="post-meta-item post-meta-item--createtime"><span class="post-meta-item__icon"><i class="far fa-calendar-plus"></i></span><span class="post-meta-item__info">å‘è¡¨äº</span><span class="post-meta-item__value">2023-05-29</span></span><span class="post-meta-item post-meta-item--updatetime"><span class="post-meta-item__icon"><i class="far fa-calendar-check"></i></span><span class="post-meta-item__info">æ›´æ–°äº</span><span class="post-meta-item__value">2023-05-29</span></span></div></header><div class="post-body"><div class="post-excerpt"><p>é‡å†™æ˜¯å¯¹çˆ¶ç±»å…è®¸è®¿é—®çš„æ–¹æ³•çš„å†…å®¹çš„é‡æ–°å®ç°ã€‚</p>
<p><strong>è§„åˆ™</strong></p>
<ul>
<li>èƒ½é‡å†™çš„å…ˆå†³æ¡ä»¶æ˜¯ç»§æ‰¿å…³ç³»</li>
<li>å‚æ•°åˆ—è¡¨å¿…é¡»å®Œå…¨ç›¸åŒ</li>
<li>è¿”å›ç±»å‹å¿…é¡»æ˜¯é‡å†™æ–¹æ³•è¿”å›å€¼çš„æ´¾ç”Ÿç±»</li>
<li>è®¿é—®æƒé™ä¸å¯ä»¥ä½äºé‡å†™çš„æ–¹æ³•</li>
<li>åªèƒ½é‡å†™çˆ¶ç±»çš„æ–¹æ³•</li>
<li>å£°æ˜ä¸º final çš„æ–¹æ³•ä¸èƒ½é‡å†™</li>
<li>å£°æ˜ä¸º static çš„æ–¹æ³•ä¸èƒ½é‡å†™</li>
<li>å­ç±»åªèƒ½é‡å†™çˆ¶ç±»å¯ä»¥è®¿é—®çš„æ–¹æ³• ï¼ˆè®¿é—®ä¿®é¥°ç¬¦çš„çº§åˆ«ï¼‰</li>
<li>é‡å†™çš„æ–¹æ³•å¯ä»¥æŠ›å‡ºéå¼ºåˆ¶æ€§å¼‚å¸¸ï¼Œä¸å¯ä»¥æŠ›å‡ºæ¯”è¢«é‡å†™æ–¹æ³•å£°æ˜æ›´å¹¿æ³›çš„å¼ºåˆ¶æ€§å¼‚å¸¸</li>
<li>ä¸èƒ½é‡å†™æ„é€ æ–¹æ³•ï¼Œå…·ä½“å¯ä»¥æŸ¥çœ‹[[ç»§æ‰¿#æ„é€ å™¨]]</li>
</ul>
</div></div></article></section><nav class="paginator"><div class="paginator-inner"><span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><span class="space">&hellip;</span><a class="page-number" href="/page/4/">4</a><a class="extend next" rel="next" href="/page/2/"><i class="fas fa-angle-right"></i></a></div></nav></div></div><div class="sidebar-wrap" id="sidebar-wrap"><aside class="sidebar" id="sidebar"><section class="sidebar-toc hide"></section><!-- ov = overview--><section class="sidebar-ov"><div class="sidebar-ov-author"><div class="sidebar-ov-author__avatar"><img class="sidebar-ov-author__avatar_img" src="/images/avatar2.jpg" alt="avatar"></div><p class="sidebar-ov-author__text">æ¯å¤©éƒ½å¥½å›°ğŸ˜‹</p></div><div class="sidebar-ov-social"><a class="sidebar-ov-social-item" href="https://github.com/YanOnjun" target="_blank" rel="noopener" data-popover="Github" data-popover-pos="up"><span class="sidebar-ov-social-item__icon"><i class="fab fa-github"></i></span></a></div><div class="sidebar-ov-state"><a class="sidebar-ov-state-item sidebar-ov-state-item--posts" href="/archives/"><div class="sidebar-ov-state-item__count">32</div><div class="sidebar-ov-state-item__name">å½’æ¡£</div></a><a class="sidebar-ov-state-item sidebar-ov-state-item--categories" href="/categories/"><div class="sidebar-ov-state-item__count">5</div><div class="sidebar-ov-state-item__name">åˆ†ç±»</div></a><a class="sidebar-ov-state-item sidebar-ov-state-item--tags" href="/tags/"><div class="sidebar-ov-state-item__count">16</div><div class="sidebar-ov-state-item__name">æ ‡ç­¾</div></a></div></section></aside></div><div class="clearfix"></div></div></main><footer class="footer" id="footer"><div class="footer-inner"><div><span>Copyright Â© 2023</span><span class="footer__icon"><i class="fas fa-heart"></i></span><span>Rise Spring</span></div><div><span>ç”± <a href="http://hexo.io/" title="Hexo" target="_blank" rel="noopener">Hexo</a> å¼ºåŠ›é©±åŠ¨</span><span> v6.3.0</span><span class="footer__devider">|</span><span>ä¸»é¢˜ - <a href="https://github.com/liuyib/hexo-theme-stun/" title="Stun" target="_blank" rel="noopener">Stun</a></span><span> v2.8.0</span></div><div class="busuanzi"><span class="busuanzi-siteuv"><span class="busuanzi-siteuv__icon"><i class="fas fa-user"></i></span><span class="busuanzi-siteuv__info">è®¿é—®äººæ•°</span><span class="busuanzi-siteuv__value" id="busuanzi_value_site_uv"></span></span><span class="busuanzi-sitepv"><span class="busuanzi-siteuv__icon"><i class="fas fa-eye"></i></span><span class="busuanzi-siteuv__info">æµè§ˆæ€»é‡</span><span class="busuanzi-siteuv__value" id="busuanzi_value_site_pv"></span></span></div></div></footer><div class="loading-bar" id="loading-bar"><div class="loading-bar__progress"></div></div><div class="back2top" id="back2top"><span class="back2top__icon"><i class="fas fa-rocket"></i></span></div></div><div class="search-mask"></div><div class="search-popup"><span class="search-close"></span><div class="search-input"><input placeholder="æœç´¢æ–‡ç« ï¼ˆæ”¯æŒå¤šå…³é”®è¯ï¼Œè¯·ç”¨ç©ºæ ¼åˆ†éš”ï¼‰"></div><div class="search-results"></div></div><script src="https://cdn.jsdelivr.net/npm/jquery@v3.4.1/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/velocity-animate@1.5.2/velocity.min.js"></script><script src="https://cdn.jsdelivr.net/npm/velocity-animate@1.5.2/velocity.ui.min.js"></script><script src="https://cdn.jsdelivr.net/gh/fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.js"></script><script src="https://cdn.jsdelivr.net/npm/lazyload@2.0.0-rc.2/lazyload.min.js"></script><script>function initSearch() {
  var isXML = true;
  var search_path = 'search.xml';

  if (!search_path) {
    search_path = 'search.xml';
  } else if (/json$/i.test(search_path)) {
    isXML = false;
  }

  var path = '/' + search_path;
  $.ajax({
    url: path,
    dataType: isXML ? 'xml' : 'json',
    async: true,
    success: function (res) {
      var datas = isXML ? $('entry', res).map(function () {
        // å°† XML è½¬ä¸º JSON
        return {
          title: $('title', this).text(),
          content: $('content', this).text(),
          url: $('url', this).text()
        };
      }).get() : res;
      var $input = $('.search-input input');
      var $result = $('.search-results');
      // æœç´¢å¯¹è±¡ï¼ˆæ ‡é¢˜ã€å†…å®¹ï¼‰çš„æƒé‡ï¼Œå½±å“æ˜¾ç¤ºé¡ºåº
      var WEIGHT = { title: 100, content: 1 };
      var searchPost = function () {
        var searchText = $input.val().toLowerCase().trim();
        // æ ¹æ®ç©ºç™½å­—ç¬¦åˆ†éš”å…³é”®å­—
        var keywords = searchText.split(/[\s]+/);
        // æœç´¢ç»“æœ
        var matchPosts = [];

        // æœ‰å¤šä¸ªå…³é”®å­—æ—¶ï¼Œå°†åŸæ–‡å­—æ•´ä¸ªä¿å­˜ä¸‹æ¥
        if (keywords.length > 1) {
          keywords.push(searchText);
        }
        // é˜²æ­¢æœªè¾“å…¥å­—ç¬¦æ—¶æœç´¢
        if (searchText.length > 0) {
          datas.forEach(function (data) {
            var isMatch  = false;
            // æ²¡æœ‰æ ‡é¢˜çš„æ–‡ç« ä½¿ç”¨é¢„è®¾çš„ i18n å˜é‡ä»£æ›¿
            var title = (data.title && data.title.trim()) || '[ æ–‡ç« æ— æ ‡é¢˜ ]';
            var titleLower = title && title.toLowerCase();
            // åˆ é™¤ HTML æ ‡ç­¾ å’Œ æ‰€æœ‰ç©ºç™½å­—ç¬¦
            var content = data.content && data.content.replace(/<[^>]+>/g, '');
            var contentLower = content && content.toLowerCase();
            // åˆ é™¤é‡å¤çš„ /
            var postURL = data.url && decodeURI(data.url).replace(/\/{2,}/g, '/');
            // æ ‡é¢˜ä¸­åŒ¹é…åˆ°çš„å…³é”®è¯
            var titleHitSlice = [];
            // å†…å®¹ä¸­åŒ¹é…åˆ°çš„å…³é”®è¯
            var contentHitSlice = [];

            keywords.forEach(function (keyword) {
              /**
              * è·å–åŒ¹é…çš„å…³é”®è¯çš„ç´¢å¼•
              * @param {String} keyword è¦åŒ¹é…çš„å…³é”®å­—
              * @param {String} text åŸæ–‡å­—
              * @param {Boolean} caseSensitive æ˜¯å¦åŒºåˆ†å¤§å°å†™
              * @param {Number} weight åŒ¹é…å¯¹è±¡çš„æƒé‡ã€‚æƒé‡å¤§çš„ä¼˜å…ˆæ˜¾ç¤º
              * @return {Array}
              */
              function getIndexByword (word, text, caseSensitive, weight) {
                if (!word || !text) {
                  return [];
                };

                var startIndex = 0; // æ¯æ¬¡åŒ¹é…çš„å¼€å§‹ç´¢å¼•
                var index = -1;     // åŒ¹é…åˆ°çš„ç´¢å¼•å€¼
                var result = [];    // åŒ¹é…ç»“æœ

                if (!caseSensitive) {
                  word = word.toLowerCase();
                  text = text.toLowerCase();
                }

                while((index = text.indexOf(word, startIndex)) !== -1) {
                  var hasMatch = false;
                  // ç´¢å¼•ä½ç½®ç›¸åŒçš„å…³é”®è¯ï¼Œä¿ç•™é•¿åº¦è¾ƒé•¿çš„
                  titleHitSlice.forEach(function (hit) {
                    if (hit.index === index && hit.word.length < word.length) {
                      hit.word = word;
                      hasMatch = true;
                    }
                  });
                  startIndex = index + word.length;
                  !hasMatch && result.push({ index: index, word: word, weight: weight });
                }
                return result;
              }
              titleHitSlice = titleHitSlice.concat(getIndexByword(keyword, titleLower, false, WEIGHT.title));
              contentHitSlice = contentHitSlice.concat(getIndexByword(keyword, contentLower, false, WEIGHT.content));
            });

            var hitTitle = titleHitSlice.length;
            var hitContent = contentHitSlice.length;

            if (hitTitle > 0 || hitContent > 0) {
              isMatch = true;
            }
            if (isMatch) {
              ;[titleHitSlice, contentHitSlice].forEach(function (hit) {
                // æŒ‰ç…§åŒ¹é…æ–‡å­—çš„ç´¢å¼•çš„é€’å¢é¡ºåºæ’åº
                hit.sort(function (left, right) {
                  return left.index - right.index;
                });
              });
              /**
              * ç»™æ–‡æœ¬ä¸­åŒ¹é…åˆ°çš„å…³é”®è¯æ·»åŠ æ ‡è®°ï¼Œä»è€Œè¿›è¡Œé«˜äº®æ˜¾ç¤º
              * @param {String} text åŸæ–‡æœ¬
              * @param {Array} hitSlice åŒ¹é…é¡¹çš„ç´¢å¼•ä¿¡æ¯
              * @param {Number} start å¼€å§‹ç´¢å¼•
              * @param {Number} end ç»“æŸç´¢å¼•
              * @return {String}
              */
              function highlightKeyword (text, hitSlice, start, end) {
                if (!text || !hitSlice || !hitSlice.length) {
                  return;
                }

                var result = '';
                var startIndex = start;
                var endIndex = end;
                hitSlice.forEach(function (hit) {
                  if (hit.index < startIndex) {
                    return;
                  }

                  var hitWordEnd = hit.index + hit.word.length;
                  result += text.slice(startIndex, hit.index);
                  result += '<b>' + text.slice(hit.index, hitWordEnd) + '</b>';
                  startIndex = hitWordEnd;
                });
                result += text.slice(startIndex, endIndex);
                return result;
              }

              var postData = {};
              // æ–‡ç« æ€»çš„æœç´¢æƒé‡
              var postWeight = titleHitSlice.length * WEIGHT.title + contentHitSlice.length * WEIGHT.content;
              // æ ‡è®°åŒ¹é…å…³é”®è¯åçš„æ ‡é¢˜
              var postTitle = highlightKeyword(title, titleHitSlice, 0, title.length) || title;
              // æ ‡è®°åŒ¹é…å…³é”®è¯åçš„å†…å®¹
              var postContent;
              // æ˜¾ç¤ºå†…å®¹çš„é•¿åº¦
              var SHOW_WORD_LENGTH = 200;
              // å‘½ä¸­å…³é”®è¯å‰çš„å­—ç¬¦æ˜¾ç¤ºé•¿åº¦
              var SHOW_WORD_FRONT_LENGTH = 20;
              var SHOW_WORD_END_LENGTH = SHOW_WORD_LENGTH - SHOW_WORD_FRONT_LENGTH;

              // æˆªå–åŒ¹é…çš„ç¬¬ä¸€ä¸ªå­—ç¬¦ï¼Œå‰åå…± 200 ä¸ªå­—ç¬¦æ¥æ˜¾ç¤º
              if (contentHitSlice.length > 0) {
                var firstIndex = contentHitSlice[0].index;
                var start = firstIndex > SHOW_WORD_FRONT_LENGTH ? firstIndex - SHOW_WORD_FRONT_LENGTH : 0;
                var end = firstIndex + SHOW_WORD_END_LENGTH;
                postContent = highlightKeyword(content, contentHitSlice, start, end);
              } else { // æœªåŒ¹é…åˆ°å†…å®¹ï¼Œç›´æ¥æˆªå–å‰ 200 ä¸ªå­—ç¬¦æ¥æ˜¾ç¤º
                postContent = content.slice(0, SHOW_WORD_LENGTH);
              }
              postData.title = postTitle;
              postData.content = postContent;
              postData.url = postURL;
              postData.weight = postWeight;
              matchPosts.push(postData);
            }
          });
        }

        var resultInnerHtml = '';
        if (matchPosts.length) {
          // æŒ‰æƒé‡é€’å¢çš„é¡ºåºæ’åºï¼Œä½¿æƒé‡å¤§çš„ä¼˜å…ˆæ˜¾ç¤º
          matchPosts.sort(function (left, right) {
            return right.weight - left.weight;
          });
          resultInnerHtml += '<ul>';
          matchPosts.forEach(function (post) {
            resultInnerHtml += '<li><a class="search-results-title" href="' + post.url + '">';
            resultInnerHtml += post.title;
            resultInnerHtml += '</a><div class="search-results-content">';
            resultInnerHtml += post.content;
            resultInnerHtml += '</div></li>';
          });
          resultInnerHtml += '</ul>';
        } else {
          resultInnerHtml += '<div class="search-results-none"><i class="far fa-meh"></i></div>';
        }
        $result.html(resultInnerHtml);
      };
      $input.on('input', searchPost);
      $input.on('keyup', function (e) {
        if (e.keyCode === Stun.utils.codeToKeyCode('Enter')) {
          searchPost();
        }
      });
    }
  });
}

function closeSearch () {
  $('body').css({ overflow: 'auto' });
  $('.search-popup').css({ display: 'none' });
  $('.search-mask').css({ display: 'none' });
}

window.addEventListener('DOMContentLoaded', function () {
  Stun.utils.pjaxReloadLocalSearch = function () {
    $('.header-nav-search').on('click', function (e) {
      e.stopPropagation();
      $('body').css('overflow', 'hidden');
      $('.search-popup')
        .velocity('stop')
        .velocity('transition.expandIn', {
          duration: 300,
          complete: function () {
            $('.search-popup input').focus();
          }
        });
      $('.search-mask')
        .velocity('stop')
        .velocity('transition.fadeIn', {
          duration: 300
        });

      initSearch();
    });
    $('.search-mask, .search-close').on('click', function () {
      closeSearch();
    });
    $(document).on('keydown', function (e) {
      // Escape <=> 27
      if (e.keyCode === Stun.utils.codeToKeyCode('Escape')) {
        closeSearch();
      }
    });
  };

  Stun.utils.pjaxReloadLocalSearch();
}, false);

function safeOpenUrl(url) {
  var newTab = window.open();
  newTab.opener = null;
  newTab.location = url;
}

function extSearch(engine) {
  var engines = {
    google: 'https://www.google.com/search?q=',
    bing: 'https://cn.bing.com/search?q=',
    baidu: 'https://www.baidu.com/s?ie=UTF-8&wd=',
  };
  var host = window.location.host;
  var query = $('.search-input input').val().toLowerCase().trim();
  var uri = engines[engine] + query + ' site:' + host;

  if (query) {
    safeOpenUrl(uri);
  } else {
    Stun.utils.popAlert('warning', 'è¯·è¾“å…¥å­—ç¬¦');
  }
}

var assistSearchList = window.CONFIG.assistSearch;

if (Array.isArray(assistSearchList)) {
  assistSearchList.forEach(function (name) {
    document.querySelector('.search-btns-item--' + name).addEventListener('click', function () {
      extSearch(name);
    }, false);
  });
}</script><script src="https://cdn.jsdelivr.net/gh/sukkaw/busuanzi@latest/bsz.pure.mini.js" async></script><script src="/js/utils.js?v=2.8.0"></script><script src="/js/stun-boot.js?v=2.8.0"></script><script src="/js/scroll.js?v=2.8.0"></script><script src="/js/header.js?v=2.8.0"></script><script src="/js/sidebar.js?v=2.8.0"></script><script type="application/json" src="/search.xml"></script></body></html>